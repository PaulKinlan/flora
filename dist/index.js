function n(n){if(n&&n.__esModule)return n;var e={};return n&&Object.keys(n).forEach(function(t){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}),e.default=n,e}var e="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function t(n,e,i){if(!n.s){if(i instanceof r){if(!i.s)return void(i.o=t.bind(null,n,e));1&e&&(e=i.s),i=i.v}if(i&&i.then)return void i.then(t.bind(null,n,e),t.bind(null,n,2));n.s=e,n.v=i;var o=n.o;o&&o(n)}}var r=function(){function n(){}return n.prototype.then=function(e,r){var i=new n,o=this.s;if(o){var u=1&o?e:r;if(u){try{t(i,1,u(this.v))}catch(n){t(i,2,n)}return i}return this}return this.o=function(n){try{var o=n.v;1&n.s?t(i,1,e?e(o):o):r?t(i,1,r(o)):t(i,2,o)}catch(n){t(i,2,n)}},i},n}();function i(n){return n instanceof r&&1&n.s}var o=new TextEncoder,u=function(n,e){try{var t=n.getReader();return Promise.resolve(t.read().then(function n(r){if(!r.done){var i=r.value,o=i instanceof Int8Array||i instanceof Int16Array||i instanceof Int32Array||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Uint16Array||i instanceof Uint32Array||i instanceof Float32Array||i instanceof Float64Array;return(!1===o&&r.value||o&&i.length>0)&&e.enqueue(r.value),t.read().then(n)}}))}catch(n){return Promise.reject(n)}};function f(n,e,o){for(var u;;){var f=n();if(i(f)&&(f=f.v),!f)return a;if(f.then){u=0;break}var a=o();if(a&&a.then){if(!i(a)){u=1;break}a=a.s}if(e){var c=e();if(c&&c.then&&!i(c)){u=2;break}}}var h=new r,s=t.bind(null,h,2);return(0===u?f.then(l):1===u?a.then(v):c.then(d)).then(void 0,s),h;function v(r){a=r;do{if(e&&(c=e())&&c.then&&!i(c))return void c.then(d).then(void 0,s);if(!(f=n())||i(f)&&!f.v)return void t(h,1,a);if(f.then)return void f.then(l).then(void 0,s);i(a=o())&&(a=a.v)}while(!a||!a.then);a.then(v).then(void 0,s)}function l(n){n?(a=o())&&a.then?a.then(v).then(void 0,s):v(a):t(h,1,a)}function d(){(f=n())?f.then?f.then(l).then(void 0,s):l(f):t(h,1,a)}}var a=function n(f,a){try{var c=function(){if(f instanceof globalThis.ReadableStream)return Promise.resolve(u(f,a)).then(function(){});var c=function(){var c;if(f instanceof Promise)return Promise.resolve(f).then(function(e){var t=(c=e)instanceof globalThis.ReadableStream?Promise.resolve(u(c,a)).then(function(){}):Promise.resolve(n(c,a)).then(function(){});if(t&&t.then)return t.then(function(){})});var h=function(){if(Array.isArray(f)){var u=function(n,o,u){if("function"==typeof n[e]){var f,a,c,h=n[e]();if(function n(e){try{for(;!(f=h.next()).done;)if((e=o(f.value))&&e.then){if(!i(e))return void e.then(n,c||(c=t.bind(null,a=new r,2)));e=e.v}a?t(a,1,e):a=e}catch(n){t(a||(a=new r),2,n)}}(),h.return){var s=function(n){try{f.done||h.return()}catch(n){}return n};if(a&&a.then)return a.then(s,function(n){throw s(n)});s()}return a}if(!("length"in n))throw new TypeError("Object is not iterable");for(var v=[],l=0;l<n.length;l++)v.push(n[l]);return function(n,e,o){var u,f,a=-1;return function o(c){try{for(;++a<n.length;)if((c=e(a))&&c.then){if(!i(c))return void c.then(o,f||(f=t.bind(null,u=new r,2)));c=c.v}u?t(u,1,c):u=c}catch(n){t(u||(u=new r),2,n)}}(),u}(v,function(n){return o(v[n])})}(f,function(e){return Promise.resolve(n(e,a)).then(function(){})});if(u&&u.then)return u.then(function(){})}else f&&a.enqueue(o.encode(f))}();return h&&h.then?h.then(function(){}):void 0}();return c&&c.then?c.then(function(){}):void 0}();return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(n){return Promise.reject(n)}};module.exports=function(e){try{var t,r=function(){return new globalThis.ReadableStream({start:function(n){!function(){try{var r=function(){n.enqueue(o.encode(e[i])),n.close()},i=0,u=f(function(){return i<t.length},void 0,function(){return n.enqueue(o.encode(e[i])),Promise.resolve(a(t[i],n)).then(function(){i++})});Promise.resolve(u&&u.then?u.then(r):r())}catch(n){return Promise.reject(n)}}()}})},i=arguments;t=[].slice.call(i,1);var u=function(){if("ReadableStream"in globalThis==0)return Promise.resolve(new Promise(function(e){e(n(require("web-streams-polyfill")))})).then(function(){})}();return Promise.resolve(u&&u.then?u.then(r):r(u))}catch(n){return Promise.reject(n)}};
//# sourceMappingURL=index.js.map
